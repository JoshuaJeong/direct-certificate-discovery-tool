<?xml version="1.0" encoding="UTF-8"?>
<configuration>
	<header>
		<entity-resolver config-class="gov.hhs.onc.dcdt.config.ToolConfigEntityResolver"/>
		<result forceReloadCheck="true">
			<expressionEngine config-class="org.apache.commons.configuration.tree.xpath.XPathExpressionEngine"/>
			<nodeCombiner config-class="org.apache.commons.configuration.tree.OverrideCombiner"/>
		</result>
	</header>
	
	<override>
		<!-- Version configuration -->
		<properties fileName="META-INF/gov/hhs/onc/dcdt/utils/version.properties" throwExceptionOnMissing="true" config-name="version-utils">
			<reloadingStrategy refreshDelay="1000" config-class="org.apache.commons.configuration.reloading.FileChangedReloadingStrategy"/>
		</properties>
		
		<!-- Base utility configuration -->
		<!-- TODO: remove if unused -->
		<xml fileName="utils/utils.xml" throwExceptionOnMissing="true" config-name="utils" config-at="${util:name}">
			<reloadingStrategy refreshDelay="1000" config-class="org.apache.commons.configuration.reloading.FileChangedReloadingStrategy"/>
		</xml>
	</override>
	
	<additional>
		<!-- Utility configuration -->
		<xml fileName="utils/${util:name}/${util:name}.xml" throwExceptionOnMissing="true" config-name="${util:name}" config-at="${util:name}" schemaValidation="true">
			<reloadingStrategy refreshDelay="1000" config-class="org.apache.commons.configuration.reloading.FileChangedReloadingStrategy"/>
		</xml>
		
		<!-- Configuration Generator configuration -->
		<properties fileName="utils/configgen/config/config.properties" throwExceptionOnMissing="true" config-name="configgen-base-config"/>
		<properties fileName="utils/configgen/config/email.properties" throwExceptionOnMissing="true" config-name="configgen-base-email"/>
	</additional>
</configuration>